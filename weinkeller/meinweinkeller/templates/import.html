{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{% static 'css/import.css' %}">
    <title>Import</title>
</head>
<body>
    <h1 class="title">Import Data via JSON</h1>

    <form id="importForm" enctype="multipart/form-data">
        {% if error %}
            <div class="error">{{ error }}</div>
        {% endif %}
        {% if success %}
            <div class="success">{{ success }}</div>
        {% endif %}
        {% csrf_token %}
        <label for="json_file">Choose JSON file:</label>
        <input type="file" id="json_file" name="json_file" accept=".json" required>
        <br><br>
        <button type="button" id="previewButton" disabled>Preview Data</button>
    </form>

    <div id="previewSection" class="preview-section" style="display: none;">
        <h2>Preview</h2>
        <div id="previewContent" class="preview-content"></div>
        <button id="importButton" class="import-button">Import Data</button>
        <button id="cancelButton" class="cancel-button">Cancel</button>
    </div>
    
    <script src="{% static 'js/import.js' %}"></script>
</body>
</html>